{
  "address": "Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS",
  "metadata": {
    "name": "swap",
    "version": "0.1.0",
    "spec": "0.1.0",
    "description": "Created with Anchor"
  },
  "instructions": [
    {
      "name": "swap",
      "docs": [
        "Swaps two tokens on a single A/B market, where A is the base currency",
        "and B is the quote currency. This is just a direct IOC trade that",
        "instantly settles.",
        "",
        "When side is \"bid\", then swaps B for A. When side is \"ask\", then swaps",
        "A for B.",
        "",
        "Arguments:",
        "",
        "* `side`                     - The direction to swap.",
        "* `amount`                   - The amount to swap *from*",
        "* `min_expected_swap_amount` - The minimum amount of the *to* token the",
        "client expects to receive from the swap. The instruction fails if",
        "execution would result in less."
      ],
      "discriminator": [
        248,
        198,
        158,
        145,
        225,
        117,
        135,
        200
      ],
      "accounts": [
        {
          "name": "market",
          "accounts": [
            {
              "name": "market",
              "writable": true
            },
            {
              "name": "open_orders",
              "writable": true
            },
            {
              "name": "request_queue",
              "writable": true
            },
            {
              "name": "event_queue",
              "writable": true
            },
            {
              "name": "bids",
              "writable": true
            },
            {
              "name": "asks",
              "writable": true
            },
            {
              "name": "order_payer_token_account",
              "writable": true
            },
            {
              "name": "coin_vault",
              "writable": true
            },
            {
              "name": "pc_vault",
              "writable": true
            },
            {
              "name": "vault_signer"
            },
            {
              "name": "coin_wallet",
              "writable": true
            }
          ]
        },
        {
          "name": "authority",
          "signer": true
        },
        {
          "name": "pc_wallet",
          "writable": true
        },
        {
          "name": "dex_program"
        },
        {
          "name": "token_program"
        },
        {
          "name": "rent"
        }
      ],
      "args": [
        {
          "name": "side",
          "type": {
            "defined": {
              "name": "Side"
            }
          }
        },
        {
          "name": "amount",
          "type": "u64"
        },
        {
          "name": "min_expected_swap_amount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "swap_transitive",
      "docs": [
        "Swaps two base currencies across two different markets.",
        "",
        "That is, suppose there are two markets, A/USD(x) and B/USD(x).",
        "Then swaps token A for token B via",
        "",
        "* IOC (immediate or cancel) sell order on A/USD(x) market.",
        "* Settle open orders to get USD(x).",
        "* IOC buy order on B/USD(x) market to convert USD(x) to token B.",
        "* Settle open orders to get token B.",
        "",
        "Arguments:",
        "",
        "* `amount`                  - The amount to swap *from*.",
        "* `min_expected_swap_amount - The minimum amount of the *to* token the",
        "client expects to receive from the swap. The instruction fails if",
        "execution would result in less."
      ],
      "discriminator": [
        129,
        109,
        254,
        207,
        31,
        192,
        47,
        51
      ],
      "accounts": [
        {
          "name": "from",
          "accounts": [
            {
              "name": "market",
              "writable": true
            },
            {
              "name": "open_orders",
              "writable": true
            },
            {
              "name": "request_queue",
              "writable": true
            },
            {
              "name": "event_queue",
              "writable": true
            },
            {
              "name": "bids",
              "writable": true
            },
            {
              "name": "asks",
              "writable": true
            },
            {
              "name": "order_payer_token_account",
              "writable": true
            },
            {
              "name": "coin_vault",
              "writable": true
            },
            {
              "name": "pc_vault",
              "writable": true
            },
            {
              "name": "vault_signer"
            },
            {
              "name": "coin_wallet",
              "writable": true
            }
          ]
        },
        {
          "name": "to",
          "accounts": [
            {
              "name": "market",
              "writable": true
            },
            {
              "name": "open_orders",
              "writable": true
            },
            {
              "name": "request_queue",
              "writable": true
            },
            {
              "name": "event_queue",
              "writable": true
            },
            {
              "name": "bids",
              "writable": true
            },
            {
              "name": "asks",
              "writable": true
            },
            {
              "name": "order_payer_token_account",
              "writable": true
            },
            {
              "name": "coin_vault",
              "writable": true
            },
            {
              "name": "pc_vault",
              "writable": true
            },
            {
              "name": "vault_signer"
            },
            {
              "name": "coin_wallet",
              "writable": true
            }
          ]
        },
        {
          "name": "authority",
          "signer": true
        },
        {
          "name": "pc_wallet",
          "writable": true
        },
        {
          "name": "dex_program"
        },
        {
          "name": "token_program"
        },
        {
          "name": "rent"
        }
      ],
      "args": [
        {
          "name": "amount",
          "type": "u64"
        },
        {
          "name": "min_expected_swap_amount",
          "type": "u64"
        }
      ]
    }
  ],
  "events": [
    {
      "name": "DidSwap",
      "discriminator": [
        225,
        151,
        200,
        172,
        242,
        216,
        225,
        30
      ]
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "SwapTokensCannotMatch",
      "msg": "The tokens being swapped must have different mints"
    },
    {
      "code": 6001,
      "name": "SlippageExceeded",
      "msg": "Slippage tolerance exceeded"
    }
  ],
  "types": [
    {
      "name": "DidSwap",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "given_amount",
            "type": "u64"
          },
          {
            "name": "min_expected_swap_amount",
            "type": "u64"
          },
          {
            "name": "from_amount",
            "type": "u64"
          },
          {
            "name": "to_amount",
            "type": "u64"
          },
          {
            "name": "spill_amount",
            "type": "u64"
          },
          {
            "name": "from_mint",
            "type": "pubkey"
          },
          {
            "name": "to_mint",
            "type": "pubkey"
          },
          {
            "name": "quote_mint",
            "type": "pubkey"
          },
          {
            "name": "authority",
            "type": "pubkey"
          }
        ]
      }
    },
    {
      "name": "Side",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Bid"
          },
          {
            "name": "Ask"
          }
        ]
      }
    }
  ]
}